
wget https://downloads.openwrt.org/releases/18.06.8/targets/ramips/mt7621/openwrt-imagebuilder-18.06.8-ramips-mt7621.Linux-x86_64.tar.xz

tar -xvjf openwrt-imagebuilder-18.06.8-ramips-mt7621.Linux-x86_64.tar.xz

cd openwrt-imagebuilder-18.06.8-ramips-mt7621.Linux-x86_64.tar


make info

共有三个传递的参数：PROFILE PACKAGES FILES
make image PROFILE=newifi-d1 PACKAGES="($cat plugin.f)" FILES=files/

cat 
command `< file`


cat > plugin.f  << EOF
 luci-i18n-chinese luci-sgi-uhttpd luci-app-qos luci-app-upnp luci-proto-ipv6
EOF



PAKAGES后面罗列出需要添加到固件中的额外的包，不填写的话只包含预定义的需要的最少的包，如果前面以"-"符号开头的表示不不含这个包，比如说：PACKAGES="luci luci-i18n-chinese -pppox"

luci

luci-i18n-chinese    # 中文支持

luci-sgi-uhttpd      # 默认开启utttpd，刷机后可直接网页访问luci
luci-app-qos         # QOS
luci-app-upnp        # UPNP
luci-proto-ipv6      # 向luci添加ipv6相关协议的完整支持


mv target/linux/ramips/image/mt7621.mk target/linux/ramips/image/mt7621.mk.bak
cp mt7621.f target/linux/ramips/image/mt7621.mk



target\linux\ramips\image

